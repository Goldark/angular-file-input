(function(){"use strict";angular.module("angularFileInput",[]).directive("ngFileInput",function(){return{restrict:"E",scope:{callback:"&",mode:"@"},template:'<input type="file" />',link:function(t,e){function n(t){var e=t.split("data:")[1],n=e.split(";")[0],a=e.split(";")[1].split(",")[0],i=e.split(";")[1].split(",")[1];return{mimetype:n,encoding:a,content:i}}function a(e){var a=e.target.files[0];if(a){var i=new FileReader;i.onload=function(e){var i=e.target.result,r={};"data-url"==t.mode?r=n(i):r.content=i,r.name=a.name,r.size=a.size,t.content=r,t.callback({file:r}),t.$apply()},t.mode||(t.mode="data-url"),i["readAs"+r[t.mode]]&&i["readAs"+r[t.mode]](a)}}var i=e.find("input")[0],r={"array-buffer":"ArrayBuffer","binary-string":"BinaryString","data-url":"DataURL",text:"Text"};i.addEventListener("change",a,!1)}}})}).call(this);